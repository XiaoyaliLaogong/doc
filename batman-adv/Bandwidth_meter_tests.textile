h1. Bandwitdh meter tests

In this page some sample result of the bw meter executions are reported. In particular the results are compared with *iperf* and an *HTTP download* to see how much the obtained throughput varies in the different cases.

All the experiments have been executed between two nodes, directly connecteed via wireless ad-hoc. Different devices have been used for the tests. Major details about this are given later.

The scenarios where the tests have been executed are the following:

# bw meter from node to node
# iperf from node to node. Iperf was running on the nodes themselves
# HTTP download from an host behind the first node node to another one behind the second node. In particular:
## host is connected to the Ethernet port of the node
## Ethernet interface is bridged with the batman-adv soft interface

Test in scenarios 1 and 2 were executed alternatively (one bw meter, one iperf, one bw meter, one iperf, ...) while the HTTP downloads have been executed all together later on.

*note:* results given by the http download seem to be wrong. There is probably something wrong in the setup which is slowing everything down.

h2. Environment 1

One OM2P-HS and one OM2P-LC nodes using ath9k based wifi devices connected in ad-hoc mode on *2.4GHz*.
The HS is 802.11n (2x2) capable
The LC is 802.11n (1x1) capable

h3. Results

The table below shows the results in all the 3 scenarios.
All the results are expressed in *Mbps*.

*HS -> LC*

|_. bw_meter |_. iperf |_. http |
|26.23|27.4|16.80|
|26.26|27.4|16.80|
|26.42|26.4|16.96|
|25.92|26.8|16.96|
|25.98|26.5|18.00|
|26.47|26.7|17.28|
|26.03|25.7|16.88|
|25.27|26.2|16.32|
|25.40|25.7|16.64|
|25.83|26.2|16.56|
|25.74|26.1|15.36|
|25.86|26.3|16.16|
|26.44|26.2|15.76|
|27.14|27.0|16.40|
|27.91|29.5|15.92|
|35.45|33.8|16.24|
|36.10|34.0|16.56|
|36.02|34.1|16.48|
|34.74|33.5|16.64|
|34.66|33.9|17.04|


*LC -> HS*

|_. bw_meter |_. iperf |_. http |
|25.06|26.6|14.48|
|25.58|26.6|14.40|
|24.83|26.7|14.24|
|25.05|26.3|14.40|
|25.42|25.1|14.24|
|24.64|25.0|14.48|
|23.34|25.7|14.48|
|24.76|26.5|14.48|
|25.14|26.4|14.56|
|21.10|25.4|14.64|
|24.33|26.5|14.32|
|25.11|26.1|14.48|
|24.82|26.2|14.24|
|24.77|25.0|14.40|
|24.76|25.3|14.48|
|25.66|25.7|14.32|
|25.00|26.8|14.64|
|25.86|26.0|14.32|
|25.42|25.6|14.48|
|25.23|26.4|14.40|

h2. Environment 2

two OM5P node using ath9k based wifi devices connected in ad-hoc mode on *5GHz*.
The OM5P is 802.11n (2x2) capable


h3. Results

The table below shows the results in all the 3 scenarios.
All the results are expressed in *Mbps*.

For this environment, one more scenario has been tested: *iperf host to host*, meaning that an iperf session has been launched between the two hosts connected to the nodes (same configuration as the HTTP download scenario).

*OM5P -> OM5P*

|_. bw_meter |_. iperf |_. http |_. iperf/h2h|
|85.82|94.3|32.96|82.4|
|83.83|94.3|33.28|83.0|
|85.42|94.3|30.64|80.6|
|84.84|94.2|28.96|81.1|
|84.33|94.2|30.56|82.5|
|83.33|94.3|29.52|83.3|
|86.70|94.2|29.84|80.4|
|85.11|94.1|29.36|82.5|
|83.62|94.3|33.04|81.9|
|41.63|94.3|29.20|83.6|
|760.00|94.2|31.52|83.8|
|83.22|94.3|30.16|81.9|
|61.62|94.2|31.04|80.1|
|84.78|94.3|30.80|82.4|
|84.74|94.3|31.04|80.6|
|83.98|94.2|31.12|81.6|
|84.18|94.2|28.88|84.2|
|84.90|94.3|27.92|81.5|
|84.39|94.2|29.84|81.6|
|45.03|94.3|30.64|80.9