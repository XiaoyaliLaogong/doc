h1. Bandwidth meter technical

h2. The Protocol

The protocol used by the bandwidth meter is TCP NewReno. More technical details cn be found in the following documents:
* "RFC 5681":http://tools.ietf.org/html/rfc5681 (TCP)
* "RFC 6582":http://tools.ietf.org/html/rfc6582 (NewReno extension)
* "RFC 6298":http://tools.ietf.org/html/rfc6298 (Retransmission Timeout computation)

Implementation of the BW meter took the TCP in-kernel module as example and some snippets of code are mostly indentical (e.g. SRTT/RTTVAR/RTO computation).
In the code it is also possible to find several references to RFC sections which explain what the code is doing.

A define of note is the _Receiver/Advertised Window size_, which has been fixed to *2^22* bytes. Common TCP implementations instead limit this size to 2^16 bytes and can reach such high value only if using the Window Scaling option.

This value is important because it represents the limit for the _Transmit Window size_ and so for the maximum amount of in-flight data.