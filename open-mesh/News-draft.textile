h1. DRAFT: Batman-adv 2018.1 released

Apr 24th, 2018. Today the B.A.T.M.A.N. team publishes the April 2018 update to batman-adv, batctl and alfred! This release adds the netlink support for the distributed arp table cache and the multicast flags. Also several bugfixes, code cleanups and code documentation updates are included in this version.

As the kernel module always depends on the Linux kernel it is compiled against, it does not make sense to provide binaries on our website. As usual, you will find the signed tarballs in our download section:

https://downloads.open-mesh.org/batman/releases/batman-adv-2018.1/

h2. Thanks

Thanks to all people sending in patches:

* Colin Ian King <colin.king@canonical.com>
* Linus LÃ¼ssing <linus.luessing@c0d3.blue>
* Linus Torvalds <torvalds@linux-foundation.org>
* Matthias Schiffer <mschiffer@universe-factory.net>
* Simon Wunderlich <sw@simonwunderlich.de>
* Sven Eckelmann <sven@narfation.org>

h2. batman-adv

<pre>
$ git describe origin/master
v2018.0-20-g41111f36
$ git shortlog --email --no-merges v2018.0..v2018.0-20-g41111f36

new kernel support
==================

      batman-adv: do bulk POLL* -> EPOLL* replacement
      batman-adv: Only provide (READ|WRITE)_ONCE when undefined

bugfixes
========

      batman-adv: update data pointers after skb_cow()
      batman-adv: fix header size check in batadv_dbg_arp()
      batman-adv: Fix skbuff rcsum on packet reroute
      batman-adv: fix multicast-via-unicast transmission with AP isolation
      batman-adv: fix packet loss for broadcasted DHCP packets to a server
      batman-adv: Fix multicast packet loss with a single WANT_ALL_IPV4/6 flag

multicast
=========

      batman-adv: Avoid redundant multicast TT entries

unclassified
============

      batman-adv: always assume 2-byte packet alignment

netlink
=======

      batman-adv: add DAT cache netlink support
      batman-adv: add multicast flags netlink support


coding style cleanup/refactoring
================================

      batman-adv: Fix indentation of batadv_seq_before
      batman-adv: Avoid relation operator comparison with bool
      batman-adv: Add missing include for EPOLL* constants



2018.1 (2018-04-24)
===================

* support latest kernels (3.2 - 4.17)
* coding style cleanups and refactoring
* add DAT cache and multicast flags netlink support
* TODO: always assume 2-byte packet alignment
* avoid redundant multicast TT entries
* bugs squashed:

  - TODO: update data pointers after skb_cow()
  - TODO: fix header size check in batadv_dbg_arp()
  - TODO: Fix skbuff rcsum on packet reroute
  - TODO: fix multicast-via-unicast transmission with AP isolation
  - TODO: fix packet loss for broadcasted DHCP packets to a server
  - TODO: Fix multicast packet loss with a single WANT_ALL_IPV4/6 flag
</pre>

h2. batctl

<pre>
$ git describe origin/master
v2018.0-11-g9f22e3d
$ git shortlog --email --no-merges v2018.0..v2018.0-11-g9f22e3d

netlink
=======

      batctl: add DAT cache netlink support
      batctl: add netlink dump function for DAT cache table
      batctl: add multicast flags netlink support
      batctl: add netlink dump function for multicast flags table

bugfixes
========

      batctl: Enable mcast log level with "all"
      batctl: Add tp debug log messages switch
      batctl: Validate translated mac addresses


2018.1 (2018-04-24)
===================

* synchronization of batman-adv netlink and packet headers
* add DAT cache and multicast flags netlink support
* disable translation support for non-unicast mac addresses
</pre>

h2. alfred

<pre>
$ git describe origin/master
v2018.0-3-g47c3456
$ git shortlog --email --no-merges v2018.0..v2018.0-3-g47c3456


netlink
=======

      alfred: add DAT cache netlink support
      alfred: add multicast flags netlink support


2018.1 (2018-04-24)
===================

* synchronization of batman-adv netlink header
</pre>


Happy routing,

The B.A.T.M.A.N. team